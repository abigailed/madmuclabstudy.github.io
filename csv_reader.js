


// DATA
document.addEventListener('DOMContentLoaded' , function() {

  window.onbeforeunload = function () {
    window.scrollTo(0,0);
  }
    const jsonData = [{
    "reviewId": "RTRBBY1T7OVBZ",
    "reviewTitle": "It’s Magic. Ace Magic!",
    "reviewDescription": "Been looking for a replacement laptop since the chromebook I had was damaged. This arrived a day after I ordered it, 3 days ahead of schedule which I am very thankful and impressed. It may be too early to review but so far i am impressed with this laptop. Excellent quality streaming videos and fast processing.",
    "ratingScore": "100%",
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/RTRBBY1T7OVBZ",
    "reviewImages": [],
    "date": "2025-06-01",
    "reviewedIn": "Reviewed in Canada on June 1, 2025",
    "isVerified": true,
    "reviewReaction": null,
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 1,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "RR5XIEI4WM38Q",
    "reviewTitle": "Great laptop, I like it!",
    "reviewDescription": "Overall, I’m very satisfied with this laptop. It’s lightweight and slim, making it easy to carry around. The design is simple and elegant, and the build quality feels solid. Storage space is generous, handling work files, study materials, and multimedia easily. In everyday use, it runs smoothly, and multitasking hasn’t been an issue. Battery life is impressive too — it lasts a full day under normal use. So far, the experience has been great, especially for light work and study needs. However, if you plan to do heavy gaming or demanding tasks, you might want to look at a higher-end model. For the price, it offers great value and is definitely worth considering.",
    "ratingScore": "50%",
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/RR5XIEI4WM38Q",
    "reviewImages": [
      "https://m.media-amazon.com/images/I/711e8lcaQ0L._SY88.jpg",
      "https://m.media-amazon.com/images/I/71MlK45TcIL._SY88.jpg",
      "https://m.media-amazon.com/images/I/71rlZRmXD9L._SY88.jpg"
    ],
    "date": "2025-04-30",
    "reviewedIn": "Reviewed in Canada on April 30, 2025",
    "isVerified": true,
    "reviewReaction": "2",
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 2,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "R2UIQ4PYCS1LMV",
    "reviewTitle": "Très bien",
    "reviewDescription": "Fonctionne très bien pour le travail",
    "ratingScore": 5,
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/R2UIQ4PYCS1LMV",
    "reviewImages": [],
    "date": "2025-06-16",
    "reviewedIn": "Reviewed in Canada on June 16, 2025",
    "isVerified": true,
    "reviewReaction": null,
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 3,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "R17SXXOLA4982R",
    "reviewTitle": "Good portable laptop for students",
    "reviewDescription": "I purchased this laptop 3 weeks ago for my daughter, who is a medical student frequently on the go. She’s been pleased with its performance - it’s slim, lightweight, and has a vibrant display, making it ideal for her studies. The ample storage has also been a big plus for handling schoolwork. While she mentioned it could be a bit faster for gaming, she’s still satisfied overall, especially given the reasonable price. A good choice for students who need reliability and portability.",
    "ratingScore": 5,
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/R17SXXOLA4982R",
    "reviewImages": [],
    "date": "2025-05-01",
    "reviewedIn": "Reviewed in Canada on May 1, 2025",
    "isVerified": true,
    "reviewReaction": null,
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 4,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "R2PPU8BVNHDNBY",
    "reviewTitle": "slim and well built",
    "reviewDescription": "First time using N processors, in begining I was hesitant but it suprised me. The laptop is well built, it is slim and has all the ports necessary. It is light weight and bazels are very small. The battery lasts long enough and charger is fast and type c. The cable could be longer though. In terms of performance it is fast for light work such as streaming, coding etc but don't expect to play games on it. Only downside would be not having the latest wifi card but it is good enough for most users",
    "ratingScore": 5,
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/R2PPU8BVNHDNBY",
    "reviewImages": [
      "https://m.media-amazon.com/images/I/615rnPEX4qL._SY88.jpg",
      "https://m.media-amazon.com/images/I/71s4rFh2sbL._SY88.jpg"
    ],
    "date": "2025-04-22",
    "reviewedIn": "Reviewed in Canada on April 22, 2025",
    "isVerified": true,
    "reviewReaction": "2",
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 5,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "R2S03D0T7Q8FAV",
    "reviewTitle": "fast and slim",
    "reviewDescription": "This laptop is very fast, lightweight, and slim. It works perfectly for browsing, watching videos, and handling documents. The price is also very affordable, which makes it a great value. Overall, I’m very satisfied with the performance and design. Highly recommended",
    "ratingScore": 5,
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/R2S03D0T7Q8FAV",
    "reviewImages": [
      "https://m.media-amazon.com/images/I/613noJm4KuL._SY88.jpg",
      "https://m.media-amazon.com/images/I/617dZw1-IpL._SY88.jpg"
    ],
    "date": "2025-04-14",
    "reviewedIn": "Reviewed in Canada on April 14, 2025",
    "isVerified": true,
    "reviewReaction": null,
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 6,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "R2MYQI6IBUC5E0",
    "reviewTitle": "Great choice for purchase",
    "reviewDescription": "This laptop is really great! It is really light and well produced. Beyond my expectations! This is great for students’ use or daily work.",
    "ratingScore": 5,
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/R2MYQI6IBUC5E0",
    "reviewImages": [],
    "date": "2025-06-10",
    "reviewedIn": "Reviewed in Canada on June 10, 2025",
    "isVerified": true,
    "reviewReaction": null,
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 7,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  },
  {
    "reviewId": "R1S5PRE65KTBGP",
    "reviewTitle": "Great Buy",
    "reviewDescription": "I have had the computer for about five days, and so far, there have been no issues. The display is nice; I love that it has numbers on the side. It has a great size and isn’t heavy either.",
    "ratingScore": 5,
    "reviewUrl": "https://www.amazon.ca/gp/customer-reviews/R1S5PRE65KTBGP",
    "reviewImages": [],
    "date": "2025-04-02",
    "reviewedIn": "Reviewed in Canada on April 2, 2025",
    "isVerified": true,
    "reviewReaction": "2",
    "isAmazonVine": false,
    "variant": "Size: 15.6in N97 16GB DDR4 512GB SSD",
    "variantAttributes": [
      {
        "key": "Size",
        "value": "15.6in N97 16GB DDR4 512GB SSD"
      }
    ],
    "userId": null,
    "userProfileLink": null,
    "position": 8,
    "totalCategoryRatings": 48,
    "totalCategoryReviews": 45,
    "reviewCategoryUrl": "https://www.amazon.ca/product-reviews/B0F1KJ4L8Q?pageNumber=1&filterByStar=all_stars&sortBy=helpful&formatType=all_formats&asin=B0F1KJ4L8Q&reftag=cm_cr_arp_d_paging_btm_next_1&scope=reviewsAjax0",
    "filterByRating": "allStars",
    "filterByKeyword": null,
    "productAsin": "B0F1KJ4L8Q",
    "productOriginalAsin": "B0F1KJ4L8Q",
    "variantAsin": "B0F1KJ4L8Q",
    "product": {
      "price": null,
      "listPrice": null
    },
    "input": "https://www.amazon.ca/ACEMAGIC-Computer-Windows-Ordinateur-Portable/dp/B0F1KJ4L8Q",
    "country": "Canada",
    "countryCode": null
  }];



  // CONTROLS FOR HOW THE DATA LOOKS AND SUCH

  let output = "";
  let ratingValue = "20%";
  let name = ["Eliza Duke", "Jaden Harvey" , "Arron Kent","Ivy Kirk" , "Huda Nolan" , "Mia Lee" , "Mohammad Roberson" ,"Alexandria Maxwell" , "Issac Pearce", "Yasmin Wang"]
  let i = 0;
  jsonData.forEach(item => {
    output += `
        <div class="review">
         
         <h3> <p> ${name[i]}</p> <br>
         <div class="ratings">
            <div class="ratings-val" style="width: ${(item.ratingScore)} ;"></div><!-- End .ratings-val -->
          </div><!-- End .ratings -->   ${item.reviewTitle}</h3>
          <p id="reviewdes">${item.reviewDescription}</p>
        </div>
      `;
      i++;
    });
    
    document.getElementById("outputerr").innerHTML = output;

   
    

    const clickText = document.getElementById("pro1");
    const clickText2 = document.getElementById("con2");
   
      
      function highlight_review_one() {
        const allReviews = document.querySelectorAll('.review');

        allReviews.forEach(el => {
          if (el.innerText.includes("great size and isn’t heavy")) {
            el.style.backgroundColor = "yellow";
            el.scrollIntoView({ behavior: "smooth", block: "center" });
          }
          else{
            el.style.backgroundColor = "white";
          }
        })
      }

      function highlight_review_two() {
        const allReviews = document.querySelectorAll('.review');

        allReviews.forEach(el => {
          if (el.innerText.includes(" it lasts a full day under normal use")) {
            el.style.backgroundColor = "yellow";
            el.scrollIntoView({ behavior: "smooth", block: "center" });
          }
          else{
            el.style.backgroundColor = "white";
          }
        })
      }
     
      clickText.addEventListener('click', highlight_review_one);
      clickText2.addEventListener('click', highlight_review_two);


//end of what was working!!



                                                                                                                                                                                                                                                      
//TESTING OPEN AI

// async function analyzeReviews() {
//   const reviewText = reviews.map(r => r.reviewDescription).join("\n");

//   const response = await fetch("https://api.openai.com/v1/chat/completions", {
//     method: "POST",
//     headers: {
//       "Content-Type": "application/json",
//       "Authorization": "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"
//     },
//     body: JSON.stringify({
//       model: "gpt-4.1",
//       messages: [
//         {
//           role: "system",
//           content: "You are a helpful assistant that extracts pros and cons from Amazon product reviews."
//         },
//         {
//           role: "user",
//           content: `Here are some reviews:\n${reviewText}`
//         }
//       ],
//       functions: [
//         {
//           name: "generate_pros_and_cons",
//           description: "Extracts pros and cons from a list of product reviews.",
//           parameters: {
//             type: "object",
//             properties: {
//               pros: {
//                 type: "array",
//                 items: { type: "string" }
//               },
//               cons: {
//                 type: "array",
//                 items: { type: "string" }
//               }
//             },
//             required: ["pros", "cons"]
//           }
//         }
//       ],
//       function_call: { name: "generate_pros_and_cons" }
//     })
//   });

//   const data = await response.json();

//   const result = JSON.parse(data.choices[0].message.function_call.arguments);

//   document.getElementById("results").innerHTML = `
//         <h2>Pros</h2>
//         <ul>${result.pros.map(p => `<li>${p}</li>`).join("")}</ul>
//         <h2>Cons</h2>
//         <ul>${result.cons.map(c => `<li>${c}</li>`).join("")}</ul>
//       `;

// }

// document.getElementById("analyze").addEventListener("click", analyzeReviews);








}) 







  